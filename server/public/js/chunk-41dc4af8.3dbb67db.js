(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41dc4af8"],{"11e9":function(e,t,a){var s=a("52a7"),r=a("4630"),n=a("6821"),i=a("6a99"),o=a("69a8"),c=a("c69a"),l=Object.getOwnPropertyDescriptor;t.f=a("9e1e")?l:function(e,t){if(e=n(e),t=i(t,!0),c)try{return l(e,t)}catch(a){}if(o(e,t))return r(!s.f.call(e,t),e[t])}},2845:function(e,t,a){},"2c72":function(e,t,a){"use strict";a("2845")},"2d6d":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header row no-gutters py-4"},[a("div",{staticClass:"col-12 col-sm-6 text-center text-sm-left mb-0"},[a("span",{class:e.subTitleClass},[e._v(e._s(e.card?"Request #":"Dashboard"))]),a("h3",{class:e.pageTitleClass},[e._v(" "+e._s(e.card?"1STRL-"+e.requestId:this.pageTitle)+" ")]),a("span",{class:e.subDateClass},[e._v(e._s(this.subString?e.formatDate(this.subString):""))])])])},r=[],n=(a("c5f6"),{name:"HeaderComponent",components:{},props:{card:Boolean,requestId:Number,label:String,subString:String},data:function(){return{pageTitle:""}},mounted:function(){if(""!==this.label)this.pageTitle=this.label;else switch(window.location.pathname){case"/":this.pageTitle="Home";break;case"/logistics-requests":this.pageTitle="Logistics Requests";break;case"/calculator":this.pageTitle="Logistics Calculator";break;case"/artillery-map":this.pageTitle="Artillery Map";break;default:this.pageTitle="Add a new page title"}},created:function(){},computed:{subTitleClass:function(){return{"text-uppercase":!0,"page-subtitle":!0,"light-text":!!this.$store.getters.getDarkMode}},subDateClass:function(){return{"text-uppercase":!0,"date-string":!0,"page-subtitle":!0,"light-text":!!this.$store.getters.getDarkMode}},pageTitleClass:function(){return{"page-title":!0,"pb-2":!0,"text-white":!!this.$store.getters.getDarkMode}}},methods:{formatDate:function(e){var t=new Date(e);return t}},watch:{}}),i=n,o=(a("7d5e"),a("2877")),c=Object(o["a"])(i,s,r,!1,null,"9e71da5e",null);t["a"]=c.exports},"2fdb":function(e,t,a){"use strict";var s=a("5ca1"),r=a("d2c8"),n="includes";s(s.P+s.F*a("5147")(n),"String",{includes:function(e){return!!~r(this,e,n).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},3959:function(e,t,a){"use strict";a("96cf");var s,r=a("1da1"),n=a("d4ec"),i=a("bee2"),o=a("bc3a"),c=a.n(o),l=a("b00c");s="development"===l["ENV"]?"http://localhost:5000/api":"https://hera-tasks.herokuapp.com/api";var u=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,null,[{key:"getAllEvents",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("".concat(s,"/events/"));case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"insertEvent",value:function(e){return c.a.post("".concat(s,"/events/"),e)}},{key:"registerEvent",value:function(e){try{var t=c.a.patch("".concat(s,"/events/register/").concat(e.id),e),a=t.data;return a}catch(r){return r}}},{key:"updateStatus",value:function(e){console.log(e);try{var t=c.a.patch("".concat(s,"/events/").concat(e._id),e),a=t.data;return a}catch(r){return r}}},{key:"setConfirmed",value:function(e){console.log(e);try{var t=c.a.patch("".concat(s,"/events/").concat(e._id),e),a=t.data;return a}catch(r){return r}}},{key:"withdraw",value:function(e){try{console.log(e);var t=c.a.patch("".concat(s,"/events/").concat(e._id),e),a=t.data;return a}catch(r){return r}}}]),e}();t["a"]=u},5147:function(e,t,a){var s=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[s]=!1,!"/./"[e](t)}catch(r){}}return!0}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5887:function(e,t,a){},"5dbc":function(e,t,a){var s=a("d3f4"),r=a("8b97").set;e.exports=function(e,t,a){var n,i=t.constructor;return i!==a&&"function"==typeof i&&(n=i.prototype)!==a.prototype&&s(n)&&r&&r(e,n),e}},"7d5e":function(e,t,a){"use strict";a("5887")},"8b97":function(e,t,a){var s=a("d3f4"),r=a("cb7c"),n=function(e,t){if(r(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,s){try{s=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),s(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,a){return n(e,a),t?e.__proto__=a:s(e,a),e}}({},!1):void 0),check:n}},9093:function(e,t,a){var s=a("ce10"),r=a("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,r)}},aa77:function(e,t,a){var s=a("5ca1"),r=a("be13"),n=a("79e5"),i=a("fdef"),o="["+i+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(e,t,a){var r={},o=n((function(){return!!i[e]()||c[e]()!=c})),l=r[e]=o?t(v):i[e];a&&(r[a]=l),s(s.P+s.F*o,"String",r)},v=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},aae3:function(e,t,a){var s=a("d3f4"),r=a("2d95"),n=a("2b4c")("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==r(e))}},bec6:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h-100",attrs:{id:"eventpage"}},[a("div",{staticClass:"container"},[this.event?a("HeaderComponent",{attrs:{label:this.event.title,subString:this.event.date}}):e._e(),a("div",{staticClass:"col-mb-12"},[a("div",{staticClass:"row"},[e.isRegistered?e._e():a("b-button",{staticClass:"ml-3",attrs:{type:"button",variant:"primary"},on:{click:function(t){return e.registerForEvent()}}},[e._v("Register for Event")]),!e.isMaybe&&e.isRegistered?a("b-button",{staticClass:"ml-3",attrs:{type:"button",variant:"primary"},on:{click:function(t){return e.setStatus()}}},[e._v("Set Status Maybe")]):e._e(),!e.isConfirmed&&e.isRegistered?a("b-button",{staticClass:"ml-3",attrs:{type:"button",variant:"success"},on:{click:function(t){return e.setConfirm()}}},[e._v("Set Status Confirmed")]):e._e(),e.isRegistered?a("b-button",{staticClass:"ml-3",attrs:{type:"button",variant:"danger"},on:{click:function(t){return e.withdraw()}}},[e._v("Withdraw From Event")]):e._e()],1),a("div",{staticClass:"text-center"},[a("div",{staticClass:"dropdown-divider"}),a("h4",{class:e.attendanceClass},[e._v("Attendance")]),a("div",{staticClass:"dropdown-divider"})]),a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"col-9"},[a("div",{staticClass:"tab-content",attrs:{id:"v-pills-tabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"v-pills-regiment-command",role:"tabpanel","aria-labelledby":"v-pills-regiment-command-tab"}},[this.$store.getters.getDarkMode?a("b-table",{attrs:{striped:"",hover:"",dark:"",items:e.regimentCommand,fields:e.fields},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return[a("span",{staticClass:"badge-text"},["Confirmed"===t.value?a("b-badge",{attrs:{variant:"success"}},[e._v(e._s(t.value))]):"Maybe"===t.value?a("b-badge",{attrs:{variant:"warning"}},[e._v(e._s(t.value))]):"Registered"===t.value?a("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.value))]):e._e()],1)]}}],null,!1,940595394)}):a("b-table",{attrs:{striped:"",hover:"",items:e.regimentCommand,fields:e.fields},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return[a("span",{staticClass:"badge-text"},["Confirmed"===t.value?a("b-badge",{attrs:{variant:"success"}},[e._v(e._s(t.value))]):"Maybe"===t.value?a("b-badge",{attrs:{variant:"warning"}},[e._v(e._s(t.value))]):"Registered"===t.value?a("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.value))]):e._e()],1)]}}])})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-ares-company",role:"tabpanel","aria-labelledby":"v-pills-ares-company-tab"}},[this.$store.getters.getDarkMode?a("b-table",{attrs:{striped:"",hover:"",items:e.ares,fields:e.fields,dark:""},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return[a("span",{staticClass:"badge-text"},["Confirmed"===t.value?a("b-badge",{attrs:{variant:"success"}},[e._v(e._s(t.value))]):"Maybe"===t.value?a("b-badge",{attrs:{variant:"warning"}},[e._v(e._s(t.value))]):"Registered"===t.value?a("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.value))]):e._e()],1)]}}],null,!1,940595394)}):a("b-table",{attrs:{striped:"",hover:"",items:e.ares,fields:e.fields},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return[a("span",{staticClass:"badge-text"},["Confirmed"===t.value?a("b-badge",{attrs:{variant:"success"}},[e._v(e._s(t.value))]):"Maybe"===t.value?a("b-badge",{attrs:{variant:"warning"}},[e._v(e._s(t.value))]):"Registered"===t.value?a("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.value))]):e._e()],1)]}}])})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-hades-company",role:"tabpanel","aria-labelledby":"v-pills-hades-company-tab"}},[this.$store.getters.getDarkMode?a("b-table",{attrs:{striped:"",hover:"",items:e.hades,fields:e.fields,dark:""},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return[a("span",{staticClass:"badge-text"},["Confirmed"===t.value?a("b-badge",{attrs:{variant:"success"}},[e._v(e._s(t.value))]):"Maybe"===t.value?a("b-badge",{attrs:{variant:"warning"}},[e._v(e._s(t.value))]):"Registered"===t.value?a("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.value))]):e._e()],1)]}}],null,!1,940595394)}):a("b-table",{attrs:{striped:"",hover:"",items:e.hades,fields:e.fields},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return[a("span",{staticClass:"badge-text"},["Confirmed"===t.value?a("b-badge",{attrs:{variant:"success"}},[e._v(e._s(t.value))]):"Maybe"===t.value?a("b-badge",{attrs:{variant:"warning"}},[e._v(e._s(t.value))]):"Registered"===t.value?a("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.value))]):e._e()],1)]}}])})],1),a("div",{staticClass:"tab-pane fade",attrs:{id:"v-pills-hermes-company",role:"tabpanel","aria-labelledby":"v-pills-hermes-company-tab"}},[this.$store.getters.getDarkMode?a("b-table",{attrs:{striped:"",hover:"",items:e.hermes,fields:e.fields,dark:""},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return[a("span",{staticClass:"badge-text"},["Confirmed"===t.value?a("b-badge",{attrs:{variant:"success"}},[e._v(e._s(t.value))]):"Maybe"===t.value?a("b-badge",{attrs:{variant:"warning"}},[e._v(e._s(t.value))]):"Registered"===t.value?a("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.value))]):e._e()],1)]}}],null,!1,940595394)}):a("b-table",{attrs:{striped:"",hover:"",items:e.hermes,fields:e.fields},scopedSlots:e._u([{key:"cell(status)",fn:function(t){return[a("span",{staticClass:"badge-text"},["Confirmed"===t.value?a("b-badge",{attrs:{variant:"success"}},[e._v(e._s(t.value))]):"Maybe"===t.value?a("b-badge",{attrs:{variant:"warning"}},[e._v(e._s(t.value))]):"Registered"===t.value?a("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(t.value))]):e._e()],1)]}}])})],1)])])])])],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-3"},[a("div",{staticClass:"nav flex-column nav-pills",attrs:{id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"}},[a("a",{staticClass:"nav-link active",attrs:{id:"v-pills-regiment-command-tab","data-toggle":"pill",href:"#v-pills-regiment-command",role:"tab","aria-controls":"v-pills-regiment-command","aria-selected":"true"}},[e._v("Regiment Command")]),a("a",{staticClass:"nav-link",attrs:{id:"v-pills-ares-company-tab","data-toggle":"pill",href:"#v-pills-ares-company",role:"tab","aria-controls":"v-pills-ares-company","aria-selected":"false"}},[e._v("Ares Company")]),a("a",{staticClass:"nav-link",attrs:{id:"v-pills-hades-company-tab","data-toggle":"pill",href:"#v-pills-hades-company",role:"tab","aria-controls":"v-pills-hades-company","aria-selected":"false"}},[e._v("Hades Company")]),a("a",{staticClass:"nav-link",attrs:{id:"v-pills-hermes-company-tab","data-toggle":"pill",href:"#v-pills-hermes-company",role:"tab","aria-controls":"v-pills-hermes-company","aria-selected":"false"}},[e._v("Hermes Company")])])])}],n=(a("6762"),a("2fdb"),a("ac6a"),a("2d6d")),i=a("3959"),o={name:"SingleEvent",components:{HeaderComponent:n["a"]},props:[],data:function(){return{fields:[{key:"member.username",label:"Member",sortable:!0},{key:"status",sortable:!0}],event:null,regimentCommand:[],hermes:[],hades:[],ares:[],isRegistered:!1,isMaybe:!1,isConfirmed:!1}},watch:{},mounted:function(){var e=this;this.sockets.subscribe("event-change",(function(t){switch(e.$store.dispatch("setEvent",t.event),t.change){case"REGISTER":e.getEventInfo();break;case"PATCH":e.getEventInfo();break;default:break}}))},created:function(){this.getEventInfo()},computed:{attendanceClass:function(){return{"text-white":this.$store.getters.getDarkMode}}},methods:{registerForEvent:function(){var e={id:this.$store.getters.getEventInfo._id,user:this.$store.getters.getUserDiscordId};i["a"].registerEvent(e)},setStatus:function(){var e=this;this.$store.getters.getEventInfo.members.forEach((function(t){t.member.discordId===e.$store.getters.getUserDiscordId&&(t.status="Maybe")})),i["a"].updateStatus(this.$store.getters.getEventInfo)},setConfirm:function(){var e=this;this.$store.getters.getEventInfo.members.forEach((function(t){t.member.discordId===e.$store.getters.getUserDiscordId&&(t.status="Confirmed")})),i["a"].setConfirmed(this.$store.getters.getEventInfo)},withdraw:function(){var e=this,t=this.$store.getters.getEventInfo;this.isRegistered=!1,this.isMaybe=!1,this.isConfirmed=!1,t.members=t.members.filter((function(t){return t.member.discordId!=e.$store.getters.getUserDiscordId})),i["a"].withdraw(t),this.$store.dispatch("setEvent",null),this.$router.push("/events")},checkStatus:function(){var e=this,t=this.$store.getters.getEventInfo;t.members.forEach((function(t){t.member.discordId&&"Registered"===t.status?(e.isRegistered=!0,e.isMaybe=!1,e.isConfirmed=!1):t.member.discordId&&"Maybe"===t.status?(e.isRegistered=!0,e.isMaybe=!0,e.isConfirmed=!1):t.member.discordId&&"Confirmed"===t.status?(e.isRegistered=!0,e.isMaybe=!1,e.isConfirmed=!0):(e.isRegistered=!1,e.isMaybe=!1,e.isConfirmed=!1)}))},getEventInfo:function(){this.event=this.$store.getters.getEventInfo,this.filterMembers(),this.checkStatus()},filterMembers:function(){var e=this;this.regimentCommand=[],this.ares=[],this.hades=[],this.hermes=[];var t=this.event.members;t.forEach((function(t){t.member.roles.includes("Regiment Command")?e.regimentCommand.push(t):t.member.roles.includes("Ares Company")?e.ares.push(t):t.member.roles.includes("Hades Company")?e.hades.push(t):t.member.roles.includes("Hermes Company")&&e.hermes.push(t)}))}}},c=o,l=(a("2c72"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"55939574",null);t["default"]=u.exports},c5f6:function(e,t,a){"use strict";var s=a("7726"),r=a("69a8"),n=a("2d95"),i=a("5dbc"),o=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,d=a("86cc").f,v=a("aa77").trim,b="Number",f=s[b],p=f,m=f.prototype,g=n(a("2aeb")(m))==b,h="trim"in String.prototype,_=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=h?t.trim():v(t,3);var a,s,r,n=t.charCodeAt(0);if(43===n||45===n){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+t}for(var i,c=t.slice(2),l=0,u=c.length;l<u;l++)if(i=c.charCodeAt(l),i<48||i>r)return NaN;return parseInt(c,s)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof f&&(g?c((function(){m.valueOf.call(a)})):n(a)!=b)?i(new p(_(t)),a,f):_(t)};for(var y,C=a("9e1e")?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;C.length>k;k++)r(p,y=C[k])&&!r(f,y)&&d(f,y,u(p,y));f.prototype=m,m.constructor=f,a("2aba")(s,b,f)}},d2c8:function(e,t,a){var s=a("aae3"),r=a("be13");e.exports=function(e,t,a){if(s(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(r(e))}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-41dc4af8.3dbb67db.js.map